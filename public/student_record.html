
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Study Record | Student</title>

</head>
<body>
<!-- 顶部导航 -->
<header class="topbar">
  <div class="sidebar-header">
    <div class="logo-icon">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <path d="M4 4h6v6H4V4zm0 8h6v6H4v-6zm8-8h6v6h-6V4zm0 8h6v6h-6v-6z"/>
      </svg>
    </div>
    <h1 class="logo-text">Lego Network Analyzer</h1>
  </div>
  <nav class="main-nav">
    <a href="/">Home</a>
  </nav>
  <button id="logoutBtn" class="btn-primary">
    <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
      <polyline points="16 17 21 12 16 7"/>
      <line x1="21" y1="12" x2="9" y2="12"/>
    </svg>
    Logout
  </button>
</header>

<main class="main-content">
  <h2 class="page-title">Study Record</h2>

  <div class="dashboard">
    <!-- 左侧：日历 & 周标签 -->
    <aside class="dashboard-sidebar">
      <div class="card calendar-card">
        <div class="card-header"><span>Calendar</span></div>
        <div id="calendar" class="calendar"></div>
      </div>

      <div class="card week-card">
        <div class="card-header"><span>Select week</span></div>
        <div id="weekTabs" class="week-tabs"></div>
      </div>
    </aside>

    <!-- 右侧：图表区 -->
    <section class="dashboard-content">
      <!-- 折线：单周各次尝试数据 -->
      <div class="card chart-card">
        <div class="card-header">
          <span>Data of each attempt in a single week</span>
          <select id="weekMetricSelect" class="metric-select">
            <option value="score">Score</option>
            <option value="accuracy" selected>Accuracy</option>
            <option value="time">Time</option>
          </select>
        </div>
        <div class="card-value" id="progressValue">--</div>
        <canvas id="weekLineChart"></canvas>
      </div>

      <!-- 柱状：周平均指标 -->
      <div class="card chart-card">
        <div class="card-header">
          <span>Weekly average indicator</span>
          <select id="aggregateMetricSelect" class="metric-select">
            <option value="attempts" selected>Average number of attempts</option>
            <option value="accuracy">Average Accuracy</option>
            <option value="time">Average Time</option>
          </select>
        </div>
        <div class="card-value" id="tasksValue">--</div>
        <canvas id="aggregatedBarChart"></canvas>
      </div>

      <!-- 分布柱状（原 Attempts Distribution） -->
      <div class="card chart-card full-width">
        <div class="card-header"><span>Attempts Distribution</span></div>
        <canvas id="bottomBarChart"></canvas>
      </div>
    </section>
  </div>
</main>

<script src="/student_record.bundle.js" defer></script>
</body>
</html>